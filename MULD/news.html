<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1,
          maximum-scale=1, user-scalable=no">
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/news.css">
    <link rel="stylesheet" href="./css/font-awesome.min.css">

    <title>萍乡学院就业网</title>

</head>
<body>
    <div id="wrapper" class="news_content">
        <ul id="news_list" class="scaleview container-fluid news-list">

        </ul>

    </div>
    <div class="page-tuming">
        <a href="" class="page-previous">上一页</a>
        <a href="" class="page-next">下一页</a>
    </div>
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/handlebars.js/4.0.11/handlebars.js"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/iScroll/5.2.0/iscroll-infinite.js"></script>
    <script type="text/x-handlebars-template" id="news_temp">

      {{#each news}}
      <li class="new-item">
          <img src="{{img}}"  class="new-imag">
          <p class="new-title"><a href="{{url}}">{{title}}</a></p>
      </li>
      {{/each}}
    </script>

    <script type="text/javascript">
        var pageobj = function () {
            //var iscoll = null;
            var _this = this;
            this.init= function (data) {
                var tmp =  $("#news_temp").html();
                var tmpobj =  Handlebars.compile(tmp);
                var news_list =  tmpobj(data);
                console.log(news_list);
                $('#news_list').html(news_list);
                iscoll =  _this.Craatiscoll();

            };
           this.Craatiscoll = function (requestData,updateContent){
               var op = {
                   mouseWheel: true,
                   infiniteElements: '',
                   infiniteLimit: 2000,
                   dataset: _this.requestData,
                   dataFiller: _this.updateContent,
                   cacheSize: 1000
               };
               return new IScroll("#wrapper #news_list",op);
           };
           this.requestData= function (start,count) {

           };
           this.updateContent=function(el, data){
               var tmp =  $("#news_temp").html();
               var tmpobj =  Handlebars.compile(tmp);
               var news_list =  tmpobj(data);
           };
            return this;
        }();
        var news ={news:
            [   {title:'机电学院党总支召开理论学习中心组会议---深入学习“十九大党章修正案”',img: "./img/news.jpg" ,url : "#"},
                {title:'工程与管理学院李良松院长一行赴河南高校开展国际合作办学班调研',img: "./img/news7.jpg",url : "#"},
                {title:'体育学院教学研讨会圆满结束',img: "./img/news2.jpg",url : "#"},
                {title:'校领导与学前教育学院学生亲切座谈”',img: "./img/news4.jpg",url : "#"},
                {title:'政法学院召开党员会议传达学习全国两会精神',img: "./img/news5.jpg",url : "#"},
                {title:'商学院开展2018年工作调整部署会',img: "./img/news6.jpg",url : "#"}
            ]};
        pageobj.init(news);
    </script>
</body>
</html>